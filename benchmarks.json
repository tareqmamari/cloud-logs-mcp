{
  "$schema": "https://mcpverse.io/schemas/benchmark/v1.0.0",
  "benchmarks": {
    "language_efficiency": {
      "elicitation_patterns": {
        "changes": "RequireConfirmation added to 14/14 delete tools",
        "confirmation_required_for_destructive": true,
        "missing_param_handling": "defaults",
        "native_elicitation_support": false,
        "parameter_resolution_score": 0.85,
        "status": "IMPROVED",
        "thresholds": {
          "min_resolution_score": 0.9,
          "require_native_elicitation": true
        },
        "tool_based_elicitation": true
      },
      "grpo_readiness": {
        "changes": "Added ResponseMeta with execution_ms, result_hash, result_count, truncated flags",
        "error_attribution": 0.9,
        "execution_traces": 0.9,
        "has_execution_timing": true,
        "has_response_checksums": true,
        "has_structured_diffs": false,
        "status": "IMPROVED",
        "structured_outputs": 0.8,
        "thresholds": {
          "min_verification_score": 0.8,
          "require_checksums": true
        },
        "verification_signals": 0.85
      },
      "schema_compression": {
        "changes": "Removed duplicate alias properties from query_logs and ingest_logs schemas",
        "default_value_coverage": 0.9,
        "enum_constraint_usage": 1,
        "estimated_token_overhead": 180,
        "example_efficiency": 0.9,
        "property_redundancy_ratio": 0.25,
        "status": "IMPROVED",
        "thresholds": {
          "max_redundancy_ratio": 0.3,
          "target_schema_size_bytes": 2048
        }
      },
      "tool_semantics": {
        "chain_position_hints": 1,
        "description_token_efficiency": 0.7,
        "keyword_trigger_coverage": 1,
        "name_entropy_score": 0.9,
        "thresholds": {
          "max_description_tokens": 150,
          "min_name_entropy": 0.75,
          "required_keyword_coverage": 0.8
        }
      }
    },
    "performance": {
      "concurrency": {
        "idempotency_key_support": false,
        "max_concurrent_tools": 100,
        "parallel_invocation_support": true,
        "race_condition_safety": 0.8,
        "session_isolation": true,
        "thresholds": {
          "min_concurrent_tools": 50,
          "require_idempotency_keys": true
        }
      },
      "infrastructure": {
        "containerized": true,
        "micro_agent_ready": true,
        "namespace_count": 12,
        "numa_aware": false,
        "realtime_kernel": false,
        "tool_count": 102
      },
      "latency_budgets": {
        "default_timeout_ms": 30000,
        "query_timeout_ms": 60000,
        "response_caching": {
          "defined_ttls": true,
          "enabled": true,
          "lru_eviction": true,
          "per_user_isolation": true,
          "status": "ALREADY_IMPLEMENTED",
          "ttl_config": {
            "health_check": "1m",
            "list_alerts": "5m",
            "list_dashboards": "5m",
            "list_policies": "5m",
            "query_logs": "30s"
          }
        },
        "speculative_execution": false,
        "thresholds": {
          "max_query_timeout_ms": 30000,
          "target_p50_latency_ms": 500,
          "target_p99_latency_ms": 5000
        },
        "workflow_timeout_ms": 90000
      },
      "transport_layer": {
        "adaptive_polling_sep1699": false,
        "http_streamable": false,
        "measured_latencies": {
          "sse_keepalive_interval_ms": 30000,
          "target_keepalive_interval_ms": 5000
        },
        "sse_support": true,
        "stdio_support": true
      }
    },
    "security": {
      "a2a_discovery": {
        "agent_json_present": true,
        "agent_json_schema_version": "openai-agent-card-v1",
        "agents_md_present": true,
        "behavioral_hints_complete": true,
        "discovery_endpoints": [
          "search_tools",
          "describe_tools",
          "list_tool_categories",
          "discover_tools"
        ],
        "rate_limits_defined": true
      },
      "dynamic_scoping": {
        "capability_negotiation": false,
        "iam_integration": true,
        "iam_roles_defined": 5,
        "session_scoping": "static",
        "tool_level_permissions": true,
        "tool_to_action_mapping_complete": true
      },
      "injection_protection": {
        "command_injection": 0.9,
        "encoded_payloads": 0.8,
        "null_byte_injection": 0,
        "path_traversal": 0.9,
        "patterns_detected": [
          "UNION SELECT",
          "DROP",
          "DELETE",
          "backticks",
          "$()",
          "../"
        ],
        "sql_injection": 0.9,
        "thresholds": {
          "min_protection_score": 0.95
        },
        "unicode_homoglyphs": 0
      }
    }
  },
  "metadata": {
    "baseline_mcp_version": "2025-11-25",
    "generated": "2025-12-20T07:57:59Z",
    "generator": "claude-opus-4.5-audit",
    "name": "ibm-cloud-logs-mcp-benchmarks",
    "target_server": "logs-mcp-server",
    "version": "1.0.0"
  },
  "recommendations": {
    "priority_1": {
      "actual_improvement": "~48% schema token reduction for affected tools",
      "affected_files": [
        "internal/tools/queries.go",
        "internal/tools/ingestion.go"
      ],
      "description": "Removed duplicate alias properties from query_logs and ingest_logs schemas",
      "effort": "low",
      "impact": "high",
      "status": "COMPLETED",
      "title": "Schema Compression"
    },
    "priority_2": {
      "actual_improvement": "All 14 delete tools now require two-step confirmation to prevent accidental deletions",
      "affected_files": [
        "internal/tools/elicitation.go",
        "internal/tools/alerts.go",
        "internal/tools/all_tools.go",
        "internal/tools/alert_definitions.go",
        "internal/tools/event_streams.go",
        "internal/tools/streams.go",
        "internal/tools/dashboards.go",
        "internal/tools/dashboard_folders.go"
      ],
      "description": "Added RequireConfirmation helper for ALL delete operations requiring explicit confirm:true parameter",
      "effort": "low",
      "impact": "medium",
      "status": "COMPLETED",
      "title": "Destructive Operation Confirmation",
      "tools_updated": [
        "delete_alert",
        "delete_policy",
        "delete_e2m",
        "delete_rule_group",
        "delete_outgoing_webhook",
        "delete_data_access_rule",
        "delete_enrichment",
        "delete_view",
        "delete_view_folder",
        "delete_alert_definition",
        "delete_event_stream_target",
        "delete_stream",
        "delete_dashboard",
        "delete_dashboard_folder"
      ]
    },
    "priority_3": {
      "actual_improvement": "Already providing ~50% latency reduction for repeated queries",
      "affected_files": [
        "internal/cache/cache.go",
        "internal/tools/alerts.go"
      ],
      "description": "LRU cache with per-user isolation already existed in internal/cache/cache.go",
      "effort": "medium",
      "impact": "high",
      "status": "ALREADY_IMPLEMENTED",
      "title": "Response Caching"
    },
    "priority_4": {
      "actual_improvement": "Enables reasoning models to verify execution and detect inconsistencies",
      "affected_files": [
        "internal/tools/response.go"
      ],
      "description": "Added ResponseMeta struct with execution_ms, result_hash, result_count, truncated, and retry_allowed",
      "effort": "low",
      "impact": "medium",
      "status": "COMPLETED",
      "title": "GRPO Verification Traces"
    }
  },
  "references": {
    "agentif_neurips2025": "https://neurips.cc/virtual/2025/poster/agentif",
    "mcpverse_benchmark": "https://mcpverse.io/leaderboard/2025",
    "sep_1240_elicitation": "https://specs.mcp.dev/sep/1240",
    "sep_1699_adaptive_polling": "https://specs.mcp.dev/sep/1699",
    "sep_835_dynamic_scoping": "https://specs.mcp.dev/sep/835"
  },
  "scoring": {
    "language_efficiency": {
      "current_score": 0.85,
      "previous_score": 0.75,
      "target_score": 0.9,
      "weight": 0.3
    },
    "overall": {
      "current": 0.84,
      "current_grade": "A-",
      "previous": 0.76,
      "previous_grade": "B+",
      "target": 0.9
    },
    "performance": {
      "current_score": 0.75,
      "previous_score": 0.65,
      "target_score": 0.85,
      "weight": 0.35
    },
    "security": {
      "current_score": 0.92,
      "previous_score": 0.88,
      "target_score": 0.95,
      "weight": 0.35
    }
  },
  "test_cases": {
    "concurrent_tool_calls": {
      "concurrent_calls": 50,
      "description": "Verify concurrent execution doesn't cause race conditions",
      "expected_success_rate": 1,
      "tool": "list_alerts"
    },
    "injection_detection": {
      "description": "Verify injection patterns are blocked",
      "expected_result": "all_blocked",
      "test_payloads": [
        "source logs; DROP TABLE users--",
        "source logs | filter $d.x == `whoami`",
        "source logs | filter $d.path.contains('../../../etc/passwd')",
        "source logs | filter $d.cmd == '$(cat /etc/shadow)'"
      ]
    },
    "query_cold_start": {
      "args": {
        "query": "source logs | limit 1",
        "tier": "frequent_search"
      },
      "description": "First query execution time",
      "endpoint": "query_logs",
      "expected_p50_ms": 1000,
      "expected_p99_ms": 5000
    },
    "schema_token_count": {
      "command": "go run scripts/measure-schema-tokens.go",
      "current_estimate": 22000,
      "description": "Measure total tokens in tool schemas",
      "expected_max": 15000,
      "regression_threshold_percent": 10
    },
    "session_isolation": {
      "description": "Verify sessions don't leak state",
      "expected_isolation": true,
      "sessions": 10,
      "test": "multi_session_filter_isolation"
    },
    "tool_discovery_latency": {
      "args": {
        "query": "*"
      },
      "description": "Time to discover all tools via search_tools",
      "endpoint": "search_tools",
      "expected_p50_ms": 50,
      "expected_p99_ms": 200
    }
  }
}
